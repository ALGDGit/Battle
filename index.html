<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Web Game</title>
    <link rel="stylesheet" href="src/styles/main.css" />
  </head>
  <body>
    <main class="menu" id="main-menu">
      <h1 class="title">Web Game</h1>
      <div class="menu-actions">
        <button class="menu-button" id="single-player">History Mode</button>
        <button class="menu-button" id="arena-mode">Arena Mode</button>
        <button class="menu-button" id="exit">Exit</button>
      </div>
    </main>

    <main class="menu hidden" id="arena-menu">
      <div class="select-screen">
        <div class="select-header">
          <h1 class="title">Arena Mode</h1>
          <p class="select-subtitle">Pick your fighter and opponent from characters played in History Mode.</p>
        </div>
        <div class="arena-columns">
          <section class="arena-column">
            <h2 class="battle-name">Your Fighter</h2>
            <div class="select-grid" id="arena-player-list"></div>
          </section>
          <section class="arena-column">
            <h2 class="battle-name">Opponent</h2>
            <div class="select-grid" id="arena-opponent-list"></div>
          </section>
        </div>
        <div class="menu-actions">
          <button class="menu-button" id="arena-start" disabled>Start Arena Battle</button>
          <button class="menu-button secondary" id="arena-back">Back</button>
        </div>
      </div>
    </main>

    <main class="menu hidden" id="character-menu">
      <div class="select-screen">
        <div class="select-header">
          <h1 class="title">Choose Your Egg</h1>
          <p class="select-subtitle">Pick an egg to hatch your Baby I partner.</p>
        </div>
        <div class="select-grid" id="player-list"></div>
        <div class="menu-actions">
          <button class="menu-button" id="start-game" disabled>Start</button>
          <button class="menu-button secondary" id="back">Back</button>
        </div>
      </div>
    </main>

    <main class="menu hidden" id="action-menu">
      <h1 class="title">Caretaker</h1>
      <div class="caretaker-header">
        <div class="character-sprite-frame" id="caretaker-sprite"></div>
        <div class="caretaker-info">
          <h2 class="battle-name" id="caretaker-name">---</h2>
          <p class="battle-hp" id="caretaker-stage">Stage: ---</p>
          <img
            id="caretaker-type-icon"
            class="type-icon"
            alt="Type icon"
          />
          <p class="battle-hp" id="caretaker-hp">HP: 0</p>
        </div>
      </div>
      <p class="battle-hp" id="weight-counter">Weight: 0</p>
      <p class="battle-hp" id="training-counter">Training: 0/4</p>
      <p class="battle-hp" id="consumable-status">Consumable: None</p>
      <p class="battle-hp" id="win-rate">Win Rate: 0%</p>
      <div class="menu-actions">
        <button class="menu-button" id="feed">Feed</button>
        <button class="menu-button" id="train">Train</button>
        <button class="menu-button" id="battle">Battle</button>
        <button class="menu-button hidden" id="final-challenge">Final Challenge</button>
      </div>
      <div class="menu-actions">
        <button class="menu-button secondary" id="action-back">Back</button>
      </div>
    </main>

    <main class="menu hidden" id="feed-menu">
      <h1 class="title">Feed</h1>
      <div class="select-screen">
        <div class="feed-visual">
          <div class="character-sprite-frame" id="feed-sprite"></div>
          <div class="feed-food">
            <img
              src="data/ui/food_meat.svg"
              alt="Meat"
              class="food-sprite"
              id="feed-food-img"
            />
          </div>
        </div>
        <div class="select-grid">
          <button class="character-card" id="feed-meat">
            <h3 class="character-name">Meat</h3>
            <p class="character-meta">Infinite supply</p>
          </button>
          <button class="character-card hidden item-card" id="feed-mushroom">
            <div class="item-info">
              <h3 class="character-name">Mushroom</h3>
              <p class="character-meta" id="mushroom-count">x0</p>
            </div>
            <img
              src="data/ui/food_mushroom.svg"
              alt="Mushroom"
              class="food-sprite item-icon"
            />
          </button>
          <button class="character-card hidden item-card" id="feed-pepper">
            <div class="item-info">
              <h3 class="character-name">Pepper</h3>
              <p class="character-meta" id="pepper-count">x0</p>
            </div>
            <img
              src="data/ui/food_pepper.svg"
              alt="Pepper"
              class="food-sprite item-icon"
            />
          </button>
          <button class="character-card hidden item-card" id="feed-blue-apple">
            <div class="item-info">
              <h3 class="character-name">Blue Apple</h3>
              <p class="character-meta" id="blue-apple-count">x0</p>
            </div>
            <img
              src="data/ui/food_blue_apple.svg"
              alt="Blue Apple"
              class="food-sprite item-icon"
            />
          </button>
          <button class="character-card hidden item-card" id="feed-medicine">
            <div class="item-info">
              <h3 class="character-name">Medicine</h3>
              <p class="character-meta" id="medicine-count">x0</p>
            </div>
            <img
              src="data/ui/food_medicine.svg"
              alt="Medicine"
              class="food-sprite item-icon"
            />
          </button>
          <button class="character-card hidden item-card" id="feed-yellow-pear">
            <div class="item-info">
              <h3 class="character-name">Yellow Pear</h3>
              <p class="character-meta" id="yellow-pear-count">x0</p>
            </div>
            <img
              src="data/ui/food_yellow_pear.svg"
              alt="Yellow Pear"
              class="food-sprite item-icon"
            />
          </button>
          <button class="character-card hidden item-card" id="feed-storm-cloud">
            <div class="item-info">
              <h3 class="character-name">Storm Cloud</h3>
              <p class="character-meta" id="storm-cloud-count">x0</p>
            </div>
            <img
              src="data/ui/item_storm_cloud.svg"
              alt="Storm Cloud"
              class="food-sprite item-icon"
            />
          </button>
          <button class="character-card hidden item-card" id="feed-poison-vial">
            <div class="item-info">
              <h3 class="character-name">Poison Vial</h3>
              <p class="character-meta" id="poison-vial-count">x0</p>
            </div>
            <img
              src="data/ui/item_poison_vial.svg"
              alt="Poison Vial"
              class="food-sprite item-icon"
            />
          </button>
          <button class="character-card hidden item-card" id="feed-beer-bottle">
            <div class="item-info">
              <h3 class="character-name">Beer Bottle</h3>
              <p class="character-meta" id="beer-bottle-count">x0</p>
            </div>
            <img
              src="data/ui/item_beer_bottle.svg"
              alt="Beer Bottle"
              class="food-sprite item-icon"
            />
          </button>
          <button class="character-card hidden item-card" id="feed-focus-lens">
            <div class="item-info">
              <h3 class="character-name">Focus Lens</h3>
              <p class="character-meta" id="focus-lens-count">x0</p>
            </div>
            <img src="data/ui/item_focus_lens.svg" alt="Focus Lens" class="food-sprite item-icon" />
          </button>
          <button class="character-card hidden item-card" id="feed-aegis-charm">
            <div class="item-info">
              <h3 class="character-name">Aegis Charm</h3>
              <p class="character-meta" id="aegis-charm-count">x0</p>
            </div>
            <img src="data/ui/item_aegis_charm.svg" alt="Aegis Charm" class="food-sprite item-icon" />
          </button>
          <button class="character-card hidden item-card" id="feed-adrenal-seed">
            <div class="item-info">
              <h3 class="character-name">Adrenal Seed</h3>
              <p class="character-meta" id="adrenal-seed-count">x0</p>
            </div>
            <img src="data/ui/item_adrenal_seed.svg" alt="Adrenal Seed" class="food-sprite item-icon" />
          </button>
          <button class="character-card hidden item-card" id="feed-echo-shell">
            <div class="item-info">
              <h3 class="character-name">Echo Shell</h3>
              <p class="character-meta" id="echo-shell-count">x0</p>
            </div>
            <img src="data/ui/item_echo_shell.svg" alt="Echo Shell" class="food-sprite item-icon" />
          </button>
          <button class="character-card hidden item-card" id="feed-null-powder">
            <div class="item-info">
              <h3 class="character-name">Null Powder</h3>
              <p class="character-meta" id="null-powder-count">x0</p>
            </div>
            <img src="data/ui/item_null_powder.svg" alt="Null Powder" class="food-sprite item-icon" />
          </button>
          <button class="character-card hidden item-card" id="feed-weighted-anklet">
            <div class="item-info">
              <h3 class="character-name">Weighted Anklet</h3>
              <p class="character-meta" id="weighted-anklet-count">x0</p>
            </div>
            <img src="data/ui/item_weighted_anklet.svg" alt="Weighted Anklet" class="food-sprite item-icon" />
          </button>
          <button class="character-card hidden item-card" id="feed-ration-pack">
            <div class="item-info">
              <h3 class="character-name">Ration Pack</h3>
              <p class="character-meta" id="ration-pack-count">x0</p>
            </div>
            <img src="data/ui/item_ration_pack.svg" alt="Ration Pack" class="food-sprite item-icon" />
          </button>
          <button class="character-card hidden item-card" id="feed-mutation-core">
            <div class="item-info">
              <h3 class="character-name">Mutation Core</h3>
              <p class="character-meta" id="mutation-core-count">x0</p>
            </div>
            <img src="data/ui/item_mutation_core.svg" alt="Mutation Core" class="food-sprite item-icon" />
          </button>
          <button class="character-card hidden item-card" id="feed-lucky-token">
            <div class="item-info">
              <h3 class="character-name">Lucky Token</h3>
              <p class="character-meta" id="lucky-token-count">x0</p>
            </div>
            <img src="data/ui/item_lucky_token.svg" alt="Lucky Token" class="food-sprite item-icon" />
          </button>
          <button class="character-card hidden item-card" id="feed-last-stand-emblem">
            <div class="item-info">
              <h3 class="character-name">Last Stand Emblem</h3>
              <p class="character-meta" id="last-stand-emblem-count">x0</p>
            </div>
            <img src="data/ui/item_last_stand_emblem.svg" alt="Last Stand Emblem" class="food-sprite item-icon" />
          </button>
        </div>
      </div>
      <div class="menu-actions">
        <button class="menu-button secondary" id="feed-back">Back</button>
      </div>
    </main>

    <main class="menu hidden" id="train-menu">
      <h1 class="title">Training</h1>
      <div class="train-panel">
        <div class="train-visual">
          <div class="character-sprite-frame face-right" id="train-sprite"></div>
          <div class="train-bag" id="train-bag">
            <img
              src="data/ui/punching_bag.svg"
              alt="Punching bag"
              class="bag-sprite"
            />
          </div>
        </div>
        <div class="train-bar">
          <div class="train-fill" id="train-fill"></div>
        </div>
        <p class="character-meta" id="train-status">
          Press Space when the bar is between 80% and 100%.
        </p>
      </div>
      <div class="menu-actions">
        <button class="menu-button" id="train-retry">Retry</button>
        <button class="menu-button secondary" id="train-back">Back</button>
      </div>
    </main>

    <main class="menu hidden" id="evolution-screen">
      <h1 class="title">Evolution</h1>
      <div class="evolution-panel">
        <div class="character-sprite-frame" id="evolution-old"></div>
        <div class="character-sprite-frame" id="evolution-new"></div>
      </div>
      <p class="battle-hp" id="evolution-message"></p>
      <div class="menu-actions">
        <button class="menu-button" id="evolution-continue">Continue</button>
      </div>
    </main>

    <main class="menu hidden" id="gameover-screen">
      <h1 class="title">Game Over</h1>
      <div class="end-panel">
        <div class="character-sprite-frame" id="gameover-sprite"></div>
      </div>
      <div class="menu-actions">
        <button class="menu-button" id="gameover-continue">Main Menu</button>
      </div>
    </main>

    <main class="menu hidden" id="congrats-screen">
      <h1 class="title">Congratulations!</h1>
      <div class="end-panel">
        <div class="character-sprite-frame" id="congrats-sprite"></div>
      </div>
      <div class="menu-actions">
        <button class="menu-button" id="congrats-continue">Main Menu</button>
      </div>
    </main>

    <main class="menu hidden" id="battle-screen">
      <h1 class="title">Battle</h1>
      <div class="battle" id="battle-field">
        <div class="battle-fighter">
          <div class="battle-sprite-slot" id="battle-player-sprite"></div>
          <div class="status-icons" id="player-status-icons">
            <img src="data/ui/status_paralyzed.svg" alt="Paralyzed" class="status-icon" id="player-status-paralyzed" />
            <img src="data/ui/status_poisoned.svg" alt="Poisoned" class="status-icon" id="player-status-poisoned" />
            <img src="data/ui/status_confused.svg" alt="Confused" class="status-icon" id="player-status-confused" />
          </div>
          <div class="battle-info">
            <h2 class="battle-name" id="battle-player-name">Player</h2>
            <p class="battle-hp" id="battle-player-hp">HP: 0</p>
          </div>
        </div>
        <div class="battle-vs">VS</div>
        <div class="battle-fighter">
          <div class="battle-sprite-slot" id="battle-opponent-sprite"></div>
          <div class="status-icons" id="opponent-status-icons">
            <img src="data/ui/status_paralyzed.svg" alt="Paralyzed" class="status-icon" id="opponent-status-paralyzed" />
            <img src="data/ui/status_poisoned.svg" alt="Poisoned" class="status-icon" id="opponent-status-poisoned" />
            <img src="data/ui/status_confused.svg" alt="Confused" class="status-icon" id="opponent-status-confused" />
          </div>
          <div class="battle-info">
            <h2 class="battle-name" id="battle-opponent-name">Opponent</h2>
            <p class="battle-hp" id="battle-opponent-hp">HP: 0</p>
          </div>
        </div>
      </div>
      <div class="battle-log" id="battle-log"></div>
      <div class="menu-actions">
        <button class="menu-button secondary" id="battle-back">Back to Menu</button>
      </div>
    </main>

    <div class="modal-overlay hidden" id="final-challenge-modal" role="dialog" aria-modal="true" aria-labelledby="final-challenge-title">
      <div class="modal-card final-challenge-popup">
        <p class="modal-eyebrow">Warning</p>
        <h2 class="modal-title" id="final-challenge-title">Final Challenge</h2>
        <p class="modal-message">
          This battle ends your run. Win to beat the game, lose to get Game Over.
        </p>
        <div class="menu-actions modal-actions">
          <button class="menu-button" id="final-challenge-confirm">Start Final Challenge</button>
          <button class="menu-button secondary" id="final-challenge-cancel">Cancel</button>
        </div>
      </div>
    </div>

    <div class="modal-overlay hidden" id="action-back-modal" role="dialog" aria-modal="true" aria-labelledby="action-back-title">
      <div class="modal-card final-challenge-popup">
        <p class="modal-eyebrow">Warning</p>
        <h2 class="modal-title" id="action-back-title">Leave Caretaker</h2>
        <p class="modal-message">
          Going back to the main menu resets your current run progress. Continue?
        </p>
        <div class="menu-actions modal-actions">
          <button class="menu-button" id="action-back-confirm">Yes, go back</button>
          <button class="menu-button secondary" id="action-back-cancel">Cancel</button>
        </div>
      </div>
    </div>
    <script type="module" src="src/js/game.js"></script>
  </body>
</html>
